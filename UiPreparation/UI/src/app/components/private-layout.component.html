<!-- ÜST BAR -->
<header class="app-header navbar navbar-expand-lg navbar-light bg-white border-bottom sticky-top">
    <div class="container-fluid">
        <h2 class="navbar-nav ms-auto align-items-center">{{ pageTitle() | translate }}</h2>
        <ul class="navbar-nav ms-auto align-items-center">
            <li class="dropdown-item-text">{{ 'Welcome' | translate }}, {{ userNameSignal() }}</li>
        </ul>
    </div>
</header>

<!-- SIDEBAR -->
<aside class="app-sidebar d-flex flex-column">
    <!-- Branding -->
    <div class="sidebar-brand">
        <div class="d-flex align-items-center">
            <img src="assets/images/app-logo.svg" [attr.alt]="'Logo' | translate" width="20" class="me-2">
            <span>{{ 'ProductManagement' | translate }}</span>
        </div>
        <!-- Sadece mobilde görünür: Kapat -->
        <button class="btn btn-sm d-xl-none" (click)="toggleSidebar()" [attr.aria-label]="'CloseSidebar' | translate">
            <i class="bi bi-x-lg"></i>
        </button>
    </div>

    <!-- Menü -->
    <nav class="flex-grow-1 overflow-auto">
        <ul class="nav flex-column">

            <!-- ADMIN -->
            <li class="nav-item">
                <a class="nav-link d-flex justify-content-between align-items-center"
                   data-bs-toggle="collapse" href="#adminSubmenu" role="button" aria-expanded="false">
                    <span><i class="fa fa-columns me-2"></i>{{ 'ADMIN' | translate }}</span>
                    <i class="fa fa-chevron-down"></i>
                </a>
                <ul class="collapse nav flex-column ms-3" id="adminSubmenu">
                    <li *ngFor="let menuItem of adminMenuItems"
                        class="nav-item" [ngClass]="menuItem.class">
                        <a *ngIf="checkClaim(menuItem.claim)"
                           class="nav-link" [routerLink]="[menuItem.path]">
                            <i class="material-icons me-2">{{ menuItem.icon }}</i>
                            {{ menuItem.title | translate }}
                        </a>
                    </li>
                </ul>
            </li>

            <!-- APP -->
            <li class="nav-item">
                <a class="nav-link d-flex justify-content-between align-items-center"
                   data-bs-toggle="collapse" href="#appSubmenu" role="button" aria-expanded="false">
                    <span><i class="fa fa-th-large me-2"></i>{{ 'APP' | translate }}</span>
                    <i class="fa fa-chevron-down"></i>
                </a>
                <ul class="collapse nav flex-column ms-3" id="appSubmenu">
                    <li *ngFor="let menuItem of userMenuItems"
                        class="nav-item" [ngClass]="menuItem.class">
                        <a *ngIf="checkClaim(menuItem.claim)"
                           class="nav-link" [routerLink]="[menuItem.path]">
                            <i class="material-icons me-2">{{ menuItem.icon }}</i>
                            {{ menuItem.title | translate }}
                        </a>
                    </li>
                </ul>
            </li>

        </ul>
    </nav>

    <!-- Footer -->
    <div class="sidebar-footer">
       <a class="nav-link d-flex align-items-center" (click)="logOut()">
            <i class="fa fa-sign-out-alt me-2"></i>
            <span>{{ 'Logout' | translate }}</span>
       </a>
    </div>
</aside>

<!-- İÇERİK -->
<main class="app-main">
    <router-outlet></router-outlet>
</main>

<!-- MOBİL FAB (Hamburger) — Header/Sidebar’ın DIŞINDA -->
<button class="btn btn-primary sidebar-fab d-xl-none"
        type="button"
        (click)="toggleSidebar()"
        [attr.aria-label]="'OpenSidebar' | translate">
    <i class="fas fa-bars"></i>
</button>
